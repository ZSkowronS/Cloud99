{"name":"Cloud99","tagline":"Framework for Openstack High Availability Testing","body":"## Cloud99 (Framework for Openstack HA Testing ##\r\n\r\nTesting an OpenStack cloud for High Availability(HA)  is a critical aspect of certifying an OpenStack Cloud for production. But High Availability testing of OpenStack clouds involves a combination of several aspects\r\n\r\n - Generating an initial load on the cloud before testing starts\r\n - Health checks to make sure the cloud is ready for HA testing\r\n - Running control/plane data plane tests in parallel with service disruptions\r\n - Active monitoring of the cloud during the HA test run\r\n -  Quantification of failures and test results\r\n\r\nThis tool attempts to automate some of these workflows and makes it easier for the Cloud admin to trigger disruptions and asses \"how available\" the OpenStack cloud actually is. \r\n\r\nCloud99 has 3 important components embedded\r\n\r\n - Monitors\r\n - Disruptors\r\n - Runners\r\n\r\nAll 3 of the above are written using a plugin model so there can be several monitors, disruptors and runners based on your OpenStack deployment. For now we implement commonly used plugins for some of these. The sections below describe these in more detail. \r\n\r\n\r\n----------\r\nMonitors as the name suggests, monitor the cloud while the disruption event/tests are in progress. For now the following monitors are supported. \r\n\r\n - OpenStack API monitor (reports status of API services and agents)\r\n - Ansible Host monitor (uses ansible to login to all your openstack nodes and check service status)\r\n - Nagios monitor (Leverage Nagios agents if available in your openstack nodes, also always monitors application VMs on cloud)\r\n\r\nFor the Nagios monitor being used with Application VMs we prebuild a qcow2 images with nagios agent enabled and launch this on the cloud before testing starts. This flow will also be automated in the next release.\r\n\r\nDisruptors as the name suggests disrupts the Openstack services/Nodes. For now the following disruptors are supported\r\n\r\n - Node disruptor (reboots openstack nodes like compute and controllers)\r\n - Process disruptor (disrupts services on different nodes)\r\n - Container disruptor (supports stopping docker containers, more for container based openstack deployments)\r\n\r\nRunners are the critical part which actually runs scale/functionality tests in parallel with disruptions. This can be any script/framework that runs OpenStack tests. The only requirement is the framework should continue on failure as disruptions can cause failures. For now we support the following runner\r\n\r\n - Rally runner (provide a pre-installer rally framework and pointer to scenario file)\r\n\r\nThe framework spawns separate threads for each runner, monitor and disruptors and performs all these in parallel. So for example you can perform a test which Boots  a VM, stop the nova scheduler and monitors the cloud. All these actions happen in parallel.  \r\n\r\nNow lets talk about how to use the tool and commands involved\r\n\r\n\r\n----------\r\n**Getting Started**\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}